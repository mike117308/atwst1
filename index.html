<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Air Tec Animation</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #ffffff;
      overflow: hidden;
      font-family: sans-serif;
      height: 100vh;
      position: relative;
    }

    #logo {
      position: absolute;
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: 50vw;
      max-width: 600px;
      min-width: 280px;
      height: auto;
      z-index: 1;
    }

    #plane-container {
      position: absolute;
      left: 0;
      top: 0;
      z-index: 10;
      pointer-events: none;
    }

    #plane {
      display: block;
      width: 15vw;
      max-width: 300px;
      min-width: 150px;
      height: auto;
    }

    .trail {
      position: absolute;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      height: 4px;
      background: linear-gradient(to right, rgba(255, 0, 0, 0.8), rgba(255, 0, 0, 0));
      width: 0;
      z-index: 5;
      border-radius: 2px;
      opacity: 1;
    }
  </style>
</head>
<body>
  <div id="plane-container">
    <img id="plane" src="plane1.png" alt="Plane" />
    <div id="trail" class="trail"></div>
  </div>
  <img id="logo" src="noplanelogo.png" alt="Air Tec logo" />

  <script>
    window.addEventListener('load', function () {
      const planeContainer = document.getElementById('plane-container');
      const plane = document.getElementById('plane');
      const trail = document.getElementById('trail');
      const logo = document.getElementById('logo');

      function startAnimation() {
        const logoRect = logo.getBoundingClientRect();
        const planeRect = plane.getBoundingClientRect();

        // Start position: off-screen left, same vertical alignment as target
        const startLeft = -planeRect.width;
        const startTop = logoRect.top + (logoRect.height - planeRect.height) / 2;

        // End position: centered horizontally & vertically over the logo
        const finalLeft = logoRect.left + (logoRect.width - planeRect.width) / 2;
        const finalTop = logoRect.top + (logoRect.height - planeRect.height) / 2;

        planeContainer.style.left = startLeft + 'px';
        planeContainer.style.top = startTop + 'px';

        trail.style.top = planeRect.height / 2 + 'px';
        trail.style.left = planeRect.width + 'px';
        trail.style.width = '0px';

        requestAnimationFrame(() => {
          planeContainer.style.transition = 'left 4s ease-in-out, top 4s ease-in-out';
          planeContainer.style.left = finalLeft + 'px';
          planeContainer.style.top = finalTop + 'px';

          const finalTrailWidth = finalLeft - startLeft + planeRect.width * 0.5;
          trail.style.transition = 'width 4s ease-in-out';
          trail.style.width = finalTrailWidth + 'px';
        });

        function onTransitionEnd(e) {
          if (e.propertyName === 'left') {
            trail.style.transition = 'width 1.5s ease-in-out, opacity 1.5s ease-in-out';
            trail.style.opacity = '0';
            trail.style.width = '10px';
            planeContainer.removeEventListener('transitionend', onTransitionEnd);
          }
        }
        planeContainer.addEventListener('transitionend', onTransitionEnd);
      }

      if (logo.complete && plane.complete) {
        startAnimation();
      } else {
        let loadedCount = 0;
        const checkLoaded = () => {
          loadedCount += 1;
          if (loadedCount === 2) startAnimation();
        };
        logo.addEventListener('load', checkLoaded);
        plane.addEventListener('load', checkLoaded);
      }
    });
  </script>
</body>
</html>
